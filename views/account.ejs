<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width; initial-scale = 1.0; maximum-scale=1.0; user-scalable=no" />
	<script src="static/js/jquery-1.12.4.min.js"></script>
	<script src="static/js/bootstrap.min.js"></script>
	<link rel="stylesheet" type="text/css" href="static/css/bootstrap-theme.min.css">
	<link rel="stylesheet" type="text/css" href="static/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="static/css/font-awesome.min.css">

	<!--google fonts-->
	<link href="https://fonts.googleapis.com/css?family=Quattrocento+Sans" rel="stylesheet">


	<link rel="stylesheet" type="text/css" href="static/css/style.css">

	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

 	<title>FITTED web <%= app_version %></title>
</head>
<body>
<!--facebook code-->
<script>
$(document).ready(function(){

	var statusChangeCallback = function(response){
		console.log(response);
	}


	function checkLoginState() {
		FB.login(function(response){
			console.log(response);
		});
	}

	window.fbAsyncInit = function() {
		FB.init({
		  appId      : '672245366249588',
		  xfbml      : true,
		  version    : 'v2.6'
		});

		var user_id, accessToken, signedRequest, expiresIn;

		FB.getLoginStatus(function(response){
			accessToken = response.authResponse.accessToken;
			user_id = response.authResponse.userID;
			signedRequest = response.authResponse.signedRequest;
			expiresIn = response.authResponse.expiresIn;

			FB.api("/" + user_id + "/", function(response){
				console.log(response);
			});

			//Once we're logged in do more!
			//Need to condense this into a batch request
			FB.api("/" + user_id + "/picture?width=9999", 
				function(response){
					if (response && !response.error) {
		        		//document.getElementById("reg-user-profile-image").src = response.data.url;
		        		$('.app_user_icon img').attr('src', response.data.url);
		      		}
				}
			);
		});
	}
});

(function(d, s, id){
 var js, fjs = d.getElementsByTagName(s)[0];
 if (d.getElementById(id)) {return;}
 js = d.createElement(s); js.id = id;
 js.src = "static/js/facebook-sdk.js";
 fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));


</script>
<body>
<div align="center">
	<div class="app_menu">
		<div class="app_user_icon">
			<img>
		</div>
		<span class="app_menu_link" id="menu_profile">Your Profile</span><br>
		<span class="app_menu_link" id="menu_friendCalendar">Your Friends' Calendar</span><br>
		<span class="app_menu_link" id="menu_trainerList">List of Trainers</span><br>
		<span class="app_menu_link" id="menu_upcomingClasses">Upcoming Classes</span><br>
		<span class="app_menu_link" id="menu_classHistory">Class History</span><br>
		<span class="app_menu_link" id="menu_feedback">Give Feedback</span><br>
		<a href="/logout">Logout</a><br>
	</div>

	<div class="app_header" align="center">
		<span class="app_title app_header_left">Fitted</span>
		<span class="app_title app_header_middle" id="app_title">Upcoming Classes</span>
		<span class="app_title app_header_right" id="app_hamburger">
			<span class="app_menu_icon"><i class="fa fa-bars" aria-hidden="true"></i></span>
		</span>
	</div>

	<div class="app_body">
		<!-- ajax fill in -->
	</div>
</div>
</body>

<script>
	$(document).ready(function(){
		var currentPageMenu = "menu_upcomingClasses";
		function getMenuName(id){
			var page = {
				'name': 'test',
				'html': ''
			};

			switch(id){
				case "menu_profile": 
					page['name'] = "Your Profile";
					page['html'] = "profile.html";
					break;
				case "menu_friendCalendar":
					page['name'] = "Your Friends' Calendar";
					page['html'] = "friends_calendar.html";
					break;
				case "menu_trainerList":
					page['name'] = "List of Trainers";
					page['html'] = "trainer_list.html";
					break;
				case "menu_upcomingClasses":
					page['name'] = "Upcoming Classes";
					page['html'] = "classes.html";
					break;
				case "menu_classHistory":
					page['name'] = "Class History";
					page['html'] = "class_history.html";
					break;
				case "menu_feedback":
					page['name'] = "Feedback";
					page['html'] = "feedback.html";
					break;
			}
			console.log(page);
			return page;
		}

		function loadPage(page){
			//blabla.html
			$.get('/static/html/' + page, function(data){
				$('.app_body').html(data);
			});
		}

		loadPage('classes.html');

		$("#app_hamburger").mouseup(function(){
			if(!$('.app_menu').hasClass('show_menu')){
				//display menu
				$('.app_menu').addClass("show_menu");
				$('#app_title').html('Menu')
			}
			else {
				//hide menu
				$('.app_menu').removeClass('show_menu');
				$('#app_title').html(getMenuName(currentPageMenu).name);
			}
		});

		$('.app_menu_link').mouseup(function(){
			$('.app_menu').removeClass('show_menu');
			currentPageMenu = $(this).attr('id');
			var page = getMenuName(currentPageMenu);
			//change title, load
			$('#app_title').html(page.name);
			loadPage(page.html);
		});
	});
</script>

</html>